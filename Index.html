<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bedah Kode: React vs Next</title>
    <style>
        /* CSS yang sama untuk konsistensi UI */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Fira+Code:wght@400;500&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f2f5;
            color: #333;
            padding: 2rem;
        }

        .container {
            width: 100%;
            max-width: 1200px; /* Lebar agar muat code */
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            padding: 2.5rem;
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #718096;
            margin-bottom: 2.5rem;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            text-align: left;
        }

        .code-column h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .code-column h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.5rem;
        }

        pre {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .token-comment { color: #a0aec0; }
        .token-keyword { color: #f9a8d4; }
        .token-function { color: #81e6d9; }
        .token-punctuation { color: #a0aec0; }
        .token-tag { color: #f9a8d4; }
        .token-attr-name { color: #a7f3d0; }
        .token-attr-value { color: #fef08a; }
        .token-operator { color: #f9a8d4; }
        .token-constant { color: #fde68a; }
        .token-plain-text { color: #e2e8f0; }


        .feature-card {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .feature-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .card-header {
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-header span:last-child {
            font-size: 1.5rem;
            transition: transform 0.3s;
        }

        .card-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
            font-size: 0.95rem;
            line-height: 1.6;
            padding: 0 1rem;
            margin-top: 0;
        }
        
        .card-content code {
            background-color: #e2e8f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
        }
        
        .feature-card.active .card-header span:last-child { transform: rotate(180deg); }
        .feature-card.active .card-content {
            max-height: 500px;
            padding: 1rem 0 0 0;
            border-top: 1px solid #e2e8f0;
            margin-top: 1rem;
        }
        
        .summary {
            margin-top: 3rem;
            padding: 1.5rem;
            background-color: #edf2f7;
            border: 2px solid #cbd5e0;
            border-radius: 12px;
            text-align: left;
        }

        @media (max-width: 992px) {
            .comparison-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Bedah Kode: React vs Next</h1>
    <p class="subtitle">Memahami perbedaan cara kerja dengan contoh nyata mengambil data dari API.</p>
    
    <div class="comparison-grid">
        <div class="code-column">
            <h2>ðŸ¦– React.js (Client-Side)</h2>
            <p>Kode ini berjalan sepenuhnya di browser pengguna (client-side).</p>
            
            <h3>Contoh Kode</h3>
            <pre><code><span class="token-keyword">import</span> <span class="token-plain-text">React, { useState, useEffect }</span> <span class="token-keyword">from</span> <span class="token-attr-value">'react'</span><span class="token-punctuation">;</span>

<span class="token-keyword">function</span> <span class="token-function">TodoList</span><span class="token-punctuation">() {</span>
  <span class="token-keyword">const</span> <span class="token-plain-text">[todos, setTodos]</span> <span class="token-operator">=</span> <span class="token-function">useState</span><span class="token-punctuation">([]);</span>
  <span class="token-keyword">const</span> <span class="token-plain-text">[loading, setLoading]</span> <span class="token-operator">=</span> <span class="token-function">useState</span><span class="token-punctuation">(</span><span class="token-constant">true</span><span class="token-punctuation">);</span>

  <span class="token-function">useEffect</span><span class="token-punctuation">(()</span> <span class="token-operator">=></span> <span class="token-punctuation">{</span>
    <span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-attr-value">'https://jsonplaceholder.typicode.com/todos?_limit=5'</span><span class="token-punctuation">)</span>
      <span class="token-punctuation">.</span><span class="token-function">then</span><span class="token-punctuation">(</span><span class="token-plain-text">res</span> <span class="token-operator">=></span> <span class="token-plain-text">res.</span><span class="token-function">json</span><span class="token-punctuation">())</span>
      <span class="token-punctuation">.</span><span class="token-function">then</span><span class="token-punctuation">(</span><span class="token-plain-text">data</span> <span class="token-operator">=></span> <span class="token-punctuation">{</span>
        <span class="token-function">setTodos</span><span class="token-punctuation">(</span><span class="token-plain-text">data</span><span class="token-punctuation">);</span>
        <span class="token-function">setLoading</span><span class="token-punctuation">(</span><span class="token-constant">false</span><span class="token-punctuation">);</span>
      <span class="token-punctuation">});</span>
  <span class="token-punctuation">}, []);</span>

  <span class="token-keyword">if</span> <span class="token-punctuation">(</span><span class="token-plain-text">loading</span><span class="token-punctuation">) {</span>
    <span class="token-keyword">return</span> <span class="token-plain-text">&lt;p&gt;Loading...&lt;/p&gt;</span><span class="token-punctuation">;</span>
  <span class="token-punctuation">}</span>

  <span class="token-keyword">return</span> <span class="token-punctuation">(</span>
    <span class="token-plain-text">&lt;ul&gt;</span>
      <span class="token-plain-text">{todos.</span><span class="token-function">map</span><span class="token-punctuation">(</span><span class="token-plain-text">todo</span> <span class="token-operator">=></span> <span class="token-punctuation">(</span>
        <span class="token-plain-text">&lt;li key={todo.id}&gt;{todo.title}&lt;/li&gt;</span>
      <span class="token-punctuation">))}</span>
    <span class="token-plain-text">&lt;/ul&gt;</span>
  <span class="token-punctuation">);</span>
<span class="token-punctuation">}</span>
</code></pre>
            
            <h3>Bedah Kode</h3>
            <div class="feature-card" onclick="toggleCard(this)">
                <div class="card-header"><span>State (useState)</span><span>&#9660;</span></div>
                <div class="card-content">
                    <code>useState</code> adalah sebuah "Hook" (fungsi khusus) dari React untuk memberikan <strong>memori</strong> pada komponen.
                    <ul>
                        <li><code>const [todos, setTodos] = useState([])</code> mendeklarasikan sebuah "state variable" bernama `todos`. Awalnya nilainya adalah array kosong `[]`.</li>
                        <li>`todos` adalah data aktualnya. Kita tidak bisa mengubahnya secara langsung.</li>
                        <li><code>setTodos</code> adalah satu-satunya fungsi yang bisa kita gunakan untuk memperbarui `todos`. Saat `setTodos` dipanggil, React tahu bahwa ada perubahan dan akan me-render ulang komponen ini dengan data baru.</li>
                        <li>Kita juga punya state `loading` untuk melacak status pengambilan data.</li>
                    </ul>
                </div>
            </div>
            <div class="feature-card" onclick="toggleCard(this)">
                <div class="card-header"><span>Effect (useEffect)</span><span>&#9660;</span></div>
                <div class="card-content">
                    <code>useEffect</code> adalah Hook untuk menjalankan "efek samping" (side effects). Efek samping adalah segala sesuatu yang berinteraksi dengan dunia luar komponen, seperti mengambil data (fetch API), setting timer, atau memanipulasi DOM secara manual.
                    <ul>
                        <li>Kode di dalam <code>useEffect</code> akan berjalan <strong>setelah</strong> komponen pertama kali di-render ke layar.</li>
                        <li>Tanda <code>[]</code> di akhir (dependency array) berarti: "jalankan efek ini hanya sekali saja, jangan diulangi di render berikutnya".</li>
                        <li>Di sinilah kita melakukan `fetch` data dan kemudian memanggil `setTodos` dan `setLoading` setelah data diterima.</li>
                    </ul>
                </div>
            </div>
            <div class="feature-card" onclick="toggleCard(this)">
                <div class="card-header"><span>Alur Kerja</span><span>&#9660;</span></div>
                <div class="card-content">
                    1. Komponen di-render, `todos` masih kosong, `loading` adalah `true`. Pengguna melihat "Loading...".<br>
                    2. `useEffect` berjalan, memulai proses `fetch` data.<br>
                    3. Data berhasil diambil dari API.<br>
                    4. `setTodos(data)` dan `setLoading(false)` dipanggil.<br>
                    5. React mendeteksi perubahan state dan <strong>me-render ulang</strong> komponen. Sekarang `loading` adalah `false` dan `todos` berisi data. Pengguna melihat daftar todo.
                </div>
            </div>
        </div>
        
        <div class="code-column">
            <h2>ðŸš€ Next.js (Server-Side)</h2>
            <p>Kode ini (secara default) berjalan di server, bukan di browser.</p>

            <h3>Contoh Kode</h3>
            <pre><code><span class="token-comment">// app/todos/page.js (di Next.js App Router)</span>

<span class="token-keyword">async</span> <span class="token-keyword">function</span> <span class="token-function">getTodos</span><span class="token-punctuation">() {</span>
  <span class="token-keyword">const</span> <span class="token-plain-text">res</span> <span class="token-operator">=</span> <span class="token-keyword">await</span> <span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-attr-value">'https://jsonplaceholder.typicode.com/todos?_limit=5'</span><span class="token-punctuation">, {</span> <span class="token-attr-name">cache</span><span class="token-punctuation">:</span> <span class="token-attr-value">'no-store'</span> <span class="token-punctuation">});</span>
  <span class="token-keyword">return</span> <span class="token-plain-text">res.</span><span class="token-function">json</span><span class="token-punctuation">();</span>
<span class="token-punctuation">}</span>

<span class="token-keyword">export</span> <span class="token-keyword">default</span> <span class="token-keyword">async</span> <span class="token-keyword">function</span> <span class="token-function">TodosPage</span><span class="token-punctuation">() {</span>
  <span class="token-keyword">const</span> <span class="token-plain-text">todos</span> <span class="token-operator">=</span> <span class="token-keyword">await</span> <span class="token-function">getTodos</span><span class="token-punctuation">();</span>

  <span class="token-keyword">return</span> <span class="token-punctuation">(</span>
    <span class="token-plain-text">&lt;ul&gt;</span>
      <span class="token-plain-text">{todos.</span><span class="token-function">map</span><span class="token-punctuation">(</span><span class="token-plain-text">todo</span> <span class="token-operator">=></span> <span class="token-punctuation">(</span>
        <span class="token-plain-text">&lt;li key={todo.id}&gt;{todo.title}&lt;/li&gt;</span>
      <span class="token-punctuation">))}</span>
    <span class="token-plain-text">&lt;/ul&gt;</span>
  <span class="token-punctuation">);</span>
<span class="token-punctuation">}</span>
</code></pre>
            
            <h3>Bedah Kode</h3>
            <div class="feature-card" onclick="toggleCard(this)">
                <div class="card-header"><span>Server Component</span><span>&#9660;</span></div>
                <div class="card-content">
                    Ini adalah **React Server Component (RSC)**, fitur modern di Next.js. Seluruh kode dalam fungsi `TodosPage` ini dieksekusi di <strong>server</strong>.
                    <ul>
                        <li>Browser pengguna tidak pernah melihat kode `fetch` atau proses pengambilan data. Browser hanya menerima hasil akhirnya: file HTML yang sudah jadi.</li>
                        <li>Perhatikan kata kunci <code>async</code> di depan fungsi. Ini memungkinkan kita menggunakan `await` langsung di dalam komponen.</li>
                    </ul>
                </div>
            </div>
            <div class="feature-card" onclick="toggleCard(this)">
                <div class="card-header"><span>Tanpa State & Effect</span><span>&#9660;</span></div>
                <div class="card-content">
                    Perhatikan apa yang <strong>tidak ada</strong> di kode ini:
                    <ul>
                        <li><strong>Tidak ada <code>useState</code></strong>. Kenapa? Karena komponen ini hanya di-render sekali di server untuk menghasilkan HTML. Tidak ada proses "render ulang" di browser, jadi tidak perlu memori atau state.</li>
                        <li><strong>Tidak ada <code>useEffect</code></strong>. Kenapa? Karena kita tidak perlu menunggu komponen di-render untuk mengambil data. Kita mengambil data <strong>sebelum</strong> proses render HTML dimulai.</li>
                        <li><strong>Tidak ada state `loading`</strong>. Kenapa? Karena saat pengguna menerima halaman, datanya sudah ada di dalamnya. Tidak ada fase "loading" sama sekali.</li>
                    </ul>
                </div>
            </div>
            <div class="feature-card" onclick="toggleCard(this)">
                <div class="card-header"><span>Alur Kerja</span><span>&#9660;</span></div>
                <div class="card-content">
                    1. Pengguna meminta halaman `/todos`.<br>
                    2. Server Next.js menjalankan fungsi `TodosPage`.<br>
                    3. Server "berhenti sejenak" (<code>await</code>) untuk menjalankan `getTodos` dan mengambil data dari API.<br>
                    4. Setelah data diterima, server melanjutkan eksekusi dan membuat file HTML lengkap yang sudah berisi daftar todo.<br>
                    5. Server mengirimkan HTML yang sudah jadi ini ke browser pengguna.<br>
                    6. Pengguna langsung melihat daftar todo tanpa melihat "Loading...".
                </div>
            </div>
        </div>
    </div>
    
    <div class="summary">
        <h3>ðŸ’¡ Kesimpulan Utama</h3>
        <p><strong>React.js (Client-Side)</strong>: Mengirim "resep" (JavaScript) ke browser. Browser kemudian harus bekerja (menjalankan resep, mengambil bahan/data, lalu memasak/merender UI). Proses ini fleksibel tapi membutuhkan waktu di sisi pengguna (ada fase loading).</p>
        <p><strong>Next.js (Server-Side)</strong>: Bekerja seperti restoran. Server sudah "memasak" hidangan (HTML) di dapur (server). Pengguna hanya menerima hidangan yang sudah jadi dan siap santap. Proses ini jauh lebih cepat bagi pengguna dan lebih baik untuk SEO.</p>
    </div>
</div>

<script>
    function toggleCard(cardElement) {
        const currentlyActive = cardElement.classList.contains('active');
        
        // Tutup semua kartu di kolom yang sama
        const column = cardElement.closest('.code-column');
        if (column) {
            column.querySelectorAll('.feature-card').forEach(card => card.classList.remove('active'));
        }
        
        // Jika kartu yang diklik tidak aktif sebelumnya, buka sekarang
        if (!currentlyActive) {
            cardElement.classList.add('active');
        }
    }
</script>

</body>
</html>
